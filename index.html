<!DOCTYPE html>
<html lang="en">
    <!--
        TODO:
          - Static name?
          - Make elements resize on different sized screens
          - Make the social icons less awkward
    -->

	<head>
		<title>Joey Lent</title>
        
        <meta charset="utf-8">

        <link rel="stylesheet" href="/stylesheets/global.css">
        <link rel="stylesheet" href="/stylesheets/animations.css">
        <link rel="stylesheet" href="/stylesheets/index.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	</head>
	<body>
        <header>
            <h1>Joey<br>Lent</h1>
        </header>
        <div class="wave"></div>

        <section>
            <h1 class="big">Hello there!</h1>
            <p>I'm Joey Lent and I'm a, mostly, self-taught programmer. Here I'll feature programs along with other things.</p>
        </section>

        <section>
            <h1 class="big">Programs</h1><br>
            <h3 class="delete">Loading...</h3>
            <div id="programs"></div>
        </section>

        <!-- <section>
            <h1>Pages</h1>
            <div class="row">
                <div class="col"><a href="./skills.html">Programming Skills</a></div>
                <div class="col"><a href="./skills-esoteric.html">Esoteric Programming Skills</a></div>
            </div>
        </section>

        <section>
            <h3>There are supposed to be icons here...</h3>
            <p>Either way I'm going to be replacing them, but if you want to get the links either way, then look into the page's source.</p>
            <p>You can also find my TODO list :)</p>

            <div class="row">
                <a href="https://github.com/Supercolbat" target="_blank" class="col">
                    <div class="icon">
                        <img src="assets/github_icon.png">
                        <img src="assets/github_icon.png">
                        <img src="assets/github_icon.png">
                        <img src="assets/github_icon.png">
                    </div>
                </a>
                <a href="https://www.sololearn.com/Profile/1912378" target="_blank" class="col">
                    <div class="icon">
                        <img src="assets/sololearn_icon.jpg">
                        <img src="assets/sololearn_icon.jpg">
                        <img src="assets/sololearn_icon.jpg">
                        <img src="assets/sololearn_icon.jpg">
                    </div>
                </a>
                <a href="https://repl.it/@JoeyLent" target="_blank" class="col">
                    <div class="icon">
                        <img src="assets/repl.it_icon.png">
                        <img src="assets/repl.it_icon.png">
                        <img src="assets/repl.it_icon.png">
                        <img src="assets/repl.it_icon.png">
                    </div>
                </a>
            </div>
        </section> -->

        <section>
            <h2>Number of unfinished projects: <b><span id="counter">...</span></b></h2>
        </section>

        <footer>
            Made by Joey Lent
            &bull;
            <a href="https://Supercolbat.joeylent.repl.co">Development Version</a>
        </footer>

        <script>
            $(function() {
                $.when($.ajax({
                    dataType: "json",
                    url: "./data/programs.json",
                    success: function(data) {
                        return data;
                    }
                })).done(function(data) {
                    var html = "";
                    var unfinished = 0;
                    var chunk;

                    for (var i = 0; i < data.length; i+=3) {
                        chunk = data.slice(i, i+3);

                        html = `<div class="row">`;
                        for (var k = 0; k < chunk.length; k++) {
                            html = html + `<div class="col"><h3>${data[i+k].url ? `<a href="${data[i+k].url} target="_blank">${data[i+k].name}</a>` : data[i+k].name} ${data[i+k].tags.includes("wip") ? ` <span class="badge badge-warning">WIP</span>` : ""}</h3><p>${data[i+k].description}</p></div>`;
                            
                            if (data[i+k].tags.includes("wip")) {
                                unfinished++;
                            }
                        }
                        $("#programs").append(html + "</div>");

                    }

                    $("#counter").text(unfinished);
                    $(".delete").remove();
                });
            })
        </script>
	</body>
</html>